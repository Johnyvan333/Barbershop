function openMap(o){o.preventDefault(),MapPopup.classList.add("modal-show")}var LoginLink=document.querySelector(".login"),LoginPopup=document.querySelector(".modal_user-login"),LoginClose=LoginPopup.querySelector(".modal-close"),LoginForm=LoginPopup.querySelector("form"),LoginName=LoginPopup.querySelector("[name='modal-login']"),LoginPassword=LoginPopup.querySelector("[name='modal-password']"),LoginStorage=localStorage.getItem("login"),MapLink=document.querySelectorAll(".footer-map"),MapPopup=document.querySelector(".modal-map"),MapClose=MapPopup.querySelector(".modal-close");LoginLink.addEventListener("click",function(o){o.preventDefault(),LoginPopup.classList.add("modal-show"),LoginStorage?(LoginName.value=LoginStorage,LoginPassword.focus()):LoginName.focus()}),LoginForm.addEventListener("submit",function(o){LoginName.value&&LoginPassword.value?localStorage.setItem("login",LoginName.value):(o.preventDefault(),LoginPopup.classList.remove("modal-error"),LoginPopup.offsetWidth=LoginPopup.offsetWidth,LoginPopup.classList.add("modal-error"))}),LoginClose.addEventListener("click",function(o){o.preventDefault(),LoginPopup.classList.remove("modal-show"),LoginPopup.classList.remove("modal-error")}),window.addEventListener("keydown",function(o){27===o.keyCode&&LoginPopup.classList.contains("modal-show")&&(LoginPopup.classList.remove("modal-show"),LoginPopup.classList.remove("modal-error"))});for(var i=0;i<MapLink.length;i++)MapLink[i].addEventListener("click",openMap);MapClose.addEventListener("click",function(o){o.preventDefault(),MapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(o){27===o.keyCode&&MapPopup.classList.contains("modal-show")&&MapPopup.classList.remove("modal-show")});